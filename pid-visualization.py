import matplotlib.pyplot as plt

def plot_pid_response(u1, u2, u3, r1, r2, r3, kp, ki, kd):
    """
    Plots the PID response data for motors' target values (u1, u2, u3) 
    and actual RPM values (r1, r2, r3) using subplots.
    
    Parameters:
    - u1, u2, u3: Target values (setpoints) for motor 1, 2, 3
    - r1, r2, r3: Actual RPM values of motor 1, 2, 3
    - kp, ki, kd: PID control gains
    """
    time = list(range(len(u1)))  # Assuming equal time intervals

    fig, axs = plt.subplots(3, 1, figsize=(12, 8), sharex=True)

    # Motor 1
    axs[0].plot(time, u1, label="Target (Motor 1)", linestyle="dashed", color="b")
    axs[0].plot(time, r1, label="RPM (Motor 1)", linestyle="solid", color="r")
    axs[0].set_ylabel("Speed (RPM)")
    axs[0].set_title(f"Motor 1 Response")
    axs[0].legend()
    axs[0].grid(True)

    # Motor 2
    axs[1].plot(time, u2, label="Target (Motor 2)", linestyle="dashed", color="b")
    axs[1].plot(time, r2, label="RPM (Motor 2)", linestyle="solid", color="r")
    axs[1].set_ylabel("Speed (RPM)")
    axs[1].set_title(f"Motor 2 Response")
    axs[1].legend()
    axs[1].grid(True)

    # Motor 3
    axs[2].plot(time, u3, label="Target (Motor 3)", linestyle="dashed", color="b")
    axs[2].plot(time, r3, label="RPM (Motor 3)", linestyle="solid", color="r")
    axs[2].set_xlabel("Time Steps")
    axs[2].set_ylabel("Speed (RPM)")
    axs[2].set_title(f"Motor 3 Response")
    axs[2].legend()
    axs[2].grid(True)

    # Overall title
    fig.suptitle(f"PID Controller Response (Kp={kp}, Ki={ki}, Kd={kd})", fontsize=14)

    plt.tight_layout()
    plt.show()



# copy from the terminal and paste below 
kp, ki, kd = 4, 0, 0.0
u1=[140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140]
u2=[140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140]
u3=[140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140]
r1=[0, 0.0, 0.0, 0.0, 0.0, 82.01, 102.32, 119.41, 125.72, 129.65, 127.13, 125.49, 130.7, 137.96, 140.53, 134.76, 131.72, 123.99, 125.21, 122.34, 128.53, 133.03, 136.92, 136.79, 134.76, 130.53, 126.11, 131.44, 128.89, 126.16, 132.42, 130.91, 134.53, 127.65, 128.67, 128.51, 122.59, 122.16, 123.65, 136.17, 135.69, 129.51, 136.54, 131.15, 129.01, 121.64, 122.39, 126.44, 128.47, 130.85, 133.27, 138.06, 127.02, 126.7, 125.42, 127.68, 118.91, 120.27, 135.07, 132.51, 134.32, 132.32, 131.79, 128.33, 125.68, 123.51, 127.17, 132.74, 128.51, 125.34, 133.57, 127.75, 126.63, 124.15, 121.33, 122.16, 126.43, 129.64, 129.9, 130.37, 129.81, 129.77]
r2=[0, 0.0, 0.0, 0.0, 82.23, 99.84, 111.87, 112.38, 112.25, 109.82, 124.15, 136.75, 143.23, 147.57, 142.75, 125.63, 119.14, 116.04, 117.94, 116.63, 134.41, 139.31, 150.54, 139.45, 132.3, 122.79, 122.8, 118.61, 119.48, 127.75, 140.63, 156.03, 138.26, 129.88, 122.89, 117.75, 114.56, 118.3, 125.91, 138.38, 138.7, 149.75, 140.65, 124.42, 114.63, 111.52, 116.01, 127.11, 137.46, 139.32, 142.36, 139.4, 129.79, 123.15, 117.27, 117.17, 118.45, 132.98, 135.26, 149.02, 143.18, 132.58, 117.7, 115.73, 114.31, 117.37, 127.89, 147.37, 147.4, 136.91, 129.93, 131.86, 128.68, 117.2, 114.78, 131.82, 146.13, 141.36, 143.51, 139.13, 130.1, 119.49]
r3=[0, 0.0, 0.0, 0.0, 82.74, 101.63, 119.9, 138.17, 136.99, 134.53, 133.51, 133.59, 139.83, 141.82, 139.48, 139.31, 142.52, 138.32, 137.95, 133.86, 134.04, 143.78, 141.72, 140.48, 138.63, 140.59, 138.46, 138.08, 141.55, 141.16, 135.87, 143.94, 142.99, 140.36, 134.67, 140.94, 138.19, 134.96, 134.01, 136.29, 137.48, 140.85, 144.49, 141.22, 141.53, 139.17, 139.52, 137.37, 142.84, 139.44, 134.6, 135.15, 136.76, 136.12, 136.66, 139.06, 131.03, 130.45, 46.01, 143.93, 139.94, 141.29, 135.73, 134.48, 135.47, 138.58, 139.53, 139.08, 140.13, 135.26, 142.24, 140.79, 143.88, 144.72, 135.84, 142.14, 138.56, 144.13, 138.72, 137.88, 141.47, 137.75]



# Call the function with provided data
plot_pid_response(u1, u2, u3, r1, r2, r3, kp, ki, kd)
